# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-
# vim: set filetype=python:
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# XXX(nika): This comment is a lie, we used to not include this directory at all
# if MOZ_IPDL_TESTS was not set...
if CONFIG['MOZ_IPDL_TESTS']:
    # we ignore MOZ_IPDL_TESTS for the IPDL-compiler-only tests, since they're
    # quick and painless
    DIRS += ['ipdl']

if CONFIG['MOZ_IPDL_TESTS']:
    DIRS += ['cxx']

# Build this source file as though it was inside of libxul. It defines nothing
# useful, but attempting to build it will fail if <windows.h> is included by
# default in ipdl generated headers.
SOURCES += ['windows_h_includes.cpp']

include('/ipc/chromium/chromium-config.mozbuild')

FINAL_LIBRARY = 'xul'
